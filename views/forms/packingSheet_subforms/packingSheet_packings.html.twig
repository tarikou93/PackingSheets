<ul id="packings" class="packings" data-prototype="{{ form_widget(packingSheetForm.packings.vars.prototype)|e('html_attr') }}" style="list-style-type: none;">
{% set cptPack = 1 %}
{% if packingSheetForm.packings is empty %}
	<div class="panel panel-warning">
      	<div class="panel-heading">No packings found for this Packing Sheet</div>
    </div>
{% else %}
	{% spaceless %}    	
    {% for pack in packingSheetForm.packings %}
		<li style="list-style-type: none;" id="packing">
			<p><h4><u>Packing {{ cptPack }}</u></h4></p>
    		<div class="form-group">
                {{ form_label(pack.M1, null, {  'label': 'M1', 'label_attr':  {
                'class': 'col-sm-4 control-label'
                }}) }}
                <div class="col-sm-6">
                    {{ form_errors(pack.M1) }}
                    {{ form_widget(pack.M1, {'attr':  {
                    'class': 'form-control',
                    'readonly': 'readonly'
                    }}) }}
                </div>
            </div>
            <div class="form-group">
                {{ form_label(pack.M2, null, {  'label': 'M2', 'label_attr':  {
                'class': 'col-sm-4 control-label'
                }}) }}
                <div class="col-sm-6">
                    {{ form_errors(pack.M2) }}
                    {{ form_widget(pack.M2, {'attr':  {
                    'class': 'form-control',
                    'readonly': 'readonly'
                    }}) }}
                </div>
            </div>
            <div class="form-group">
                {{ form_label(pack.M3, null, {  'label': 'M3', 'label_attr':  {
                'class': 'col-sm-4 control-label'
                }}) }}
                <div class="col-sm-6">
                    {{ form_errors(pack.M3) }}
                    {{ form_widget(pack.M3, {'attr':  {
                    'class': 'form-control',
                    'readonly': 'readonly'
                    }}) }}
                </div>
            </div>
            <div class="form-group">
                {{ form_label(pack.netWeight, null, {  'label': 'Net Weight', 'label_attr':  {
                'class': 'col-sm-4 control-label'
                }}) }}
                <div class="col-sm-6">
                    {{ form_errors(pack.netWeight) }}
                    {{ form_widget(pack.netWeight, {'attr':  {
                    'class': 'form-control',
                    'readonly': 'readonly'
                    }}) }}
                </div>
            </div>
            <div class="form-group">
                {{ form_label(pack.grossWeight, null, { 'label': 'Gross Weight', 'label_attr':  {
                'class': 'col-sm-4 control-label'
                }}) }}
                <div class="col-sm-6">
                    {{ form_errors(pack.grossWeight) }}
                    {{ form_widget(pack.grossWeight, {'attr':  {
                    'class': 'form-control',
                    'readonly': 'readonly'
                    }}) }}
                </div>
            </div>
       		<div class="form-group">
                {{ form_label(pack.packType_id, null, { 'label': 'Type', 'label_attr':  {
                'class': 'col-sm-4 control-label'
                }}) }}
                <div class="col-sm-6">
                    {{ form_errors(pack.packType_id) }}
                    {{ form_widget(pack.packType_id, {'attr':  {
                    'class': 'form-control',
                    'readonly': 'readonly'
                    }}) }}
                </div>
            </div>
            <div class="panel-group">
              	<div class="panel panel-default">
                	<div class="panel-heading">
                      	<h4 class="panel-title">
                        	<a data-toggle="collapse" href="#collapse{{ pack.vars.value.id }}">Parts</a>
                      	</h4>
                	</div>
                	<div id="collapse{{ pack.vars.value.id }}" class="panel-collapse collapse">
                      	<div class="panel-body">
                      		<ul id="parts" class="parts" data-prototype="{{ form_widget(packingSheetForm.packings.vars.prototype.parts.vars.prototype)|e('html_attr') }}" style="list-style-type: none;">
                                {% set cptPart = 1 %}
                                {% if pack.parts is empty %}
                                	<div class="panel panel-warning">
                                      <div class="panel-heading">No parts found for this Packing</div>
                                    </div>
                                {% else %}
                                    {% for part in pack.parts %}
                                    	<li id="part">
                                        	<div class="col-md-2"><h4>Item {{ cptPart }}</h4></div>
                                        	{% set cptPart = cptPart + 1 %}
                                        	<div class="form-group">
                                                {{ form_label(part.part_id, null, { 'label': ' ', 'label_attr':  {
                                                'class': 'col-sm-4 control-label'
                                                }}) }}
                                                <div class="col-sm-10">
                                                    {{ form_errors(part.part_id) }}
                                                    {{ form_widget(part.part_id, {'attr':  {
                                                    'class': 'form-control',
                                                    'readonly': 'readonly'
                                                    }}) }}
                                                </div>
                                        	</div>
                                        	<div class="form-group">
                                                {{ form_label(part.quantity, null, { 'label': 'Quantity', 'label_attr':  {
                                                'class': 'col-sm-4 control-label'
                                                }}) }}
                                                <div class="col-sm-6">
                                                    {{ form_errors(part.quantity) }}
                                                    {{ form_widget(part.quantity, {'attr':  {
                                                    'class': 'form-control',
                                                    'readonly': 'readonly'
                                                    }}) }}
                                                </div>
                                        	</div>
                                        	<div class="form-group">
                                                {{ form_label(part.origin, null, { 'label': 'Origin', 'label_attr':  {
                                                'class': 'col-sm-4 control-label'
                                                }}) }}
                                                <div class="col-sm-6">
                                                    {{ form_errors(part.origin) }}
                                                    {{ form_widget(part.origin, {'attr':  {
                                                    'class': 'form-control',
                                                    'readonly': 'readonly'
                                                    }}) }}
                                                </div>
                                        	</div>
                                        	<div class="form-group">
                                                {{ form_label(part.serial, null, { 'label': 'Part Serial', 'label_attr':  {
                                                'class': 'col-sm-4 control-label'
                                                }}) }}
                                                <div class="col-sm-6">
                                                    {{ form_errors(part.serial) }}
                                                    {{ form_widget(part.serial, {'attr':  {
                                                    'class': 'form-control',
                                                    'readonly': 'readonly'
                                                    }}) }}
                                                </div>
                                        	</div>
                                        	<div class="form-group">
                                                {{ form_label(part.price, null, { 'label': 'Price', 'label_attr':  {
                                                'class': 'col-sm-4 control-label'
                                                }}) }}
                                                <div class="col-sm-6">
                                                    {{ form_errors(part.price) }}
                                                    {{ form_widget(part.price, {'attr':  {
                                                    'class': 'form-control',
                                                    'readonly': 'readonly'
                                                    }}) }}
                                                </div>
                                        	</div>
                                        </li>
                                    {% endfor %}
                                {% endif %}
                            </ul>
                      	</div>
                	</div>
              	</div>
            </div>
            <div class="form-group">
                <div class="col-sm-4">
                    {{ form_widget(pack.save, {'attr':  {
                    'class': 'hidden-row',
                    'style':'display: none'
                    }}) }}
                </div>
            </div>
    	</li>
    	<hr></hr>
        {% set cptPack = cptPack + 1 %}
    {% endfor %}
    {% endspaceless %}
{% endif %}
</ul>

{% if read_only is empty %}
     <script src="/scripts/dynamic_packings_packingsheet_form.js"></script> 
{% endif %}	