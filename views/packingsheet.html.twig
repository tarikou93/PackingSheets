{% extends "layout.html.twig" %}

{% block title %}Packing Sheets{% endblock %}

{% block content %}
    <div class="jumbotron vertical-center">
        <div class="container-fluid">
            <div class="container"><h2>Packing Sheets <br>
                    <small>Edition/Consultation</small></h2>
                <div class="col-md-3 col-md-offset-9">
                    <a href="{{ path('sheetCreate') }}"><button type="button" class="btn btn-success"><span class="glyphicon glyphicon-plus"></span> Create new sheet</button></a>
                    {% if searchTag == 1 %}
                		<hr></hr>
                		<a href="{{ path('sheets') }}"><button type="button" class="btn btn-secondary"><span class="glyphicon glyphicon-arrow-left"></span> Return to Packing Sheets list </button></a>
                    {% endif %}
                </div>
            </div>
            <div id="exTab2" class="container">
                <ul class="nav nav-tabs">
                    <li class="active"><a href="#1" data-toggle="tab">Sheets</a></li>
                    <li><a href="#2" data-toggle="tab">Search</a></li>
                </ul>
                <div class="tab-content ">
                    <div class="tab-pane active" id="1">
                        {% if (packingSheets is empty) %}
                            <div class="panel panel-danger">
                                <div class="panel-heading">Search Results</div>
                                <div class="panel-body">No matching entry found - Please edit filters</div>
                            </div>
                        {% else %}
                            <table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
                                <thead>
                                    <tr>
                                        <th>Ref</th>
                                        <th>AWB</th>
                                        <th>Shipper</th>
                                        <th>Consigned</th>
                                        <th>From service</th>
                                        <th>Autority</th>
                                        <th>Details</th>
                                        <th>List</th>
                                        <th>Edit</th>
                                        <th>Delete</th>
                                        <th>Print</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for packingSheet in packingSheets %}
                                        <tr>
                                            <td>{{ packingSheet.ref }}</td>
                                            <td>{{ packingSheet.AWB }}</td>
                                            <td>{{ packingSheet.shipperId.label}}</td>
                                            <td>{{ packingSheet.consignedAddressId.label}}</td>
                                            <td>{{ packingSheet.serviceId.label }}</td>
                                            <td>{{ packingSheet.autorityId.label }}</td>
                                            <td><a href="{{ path('sheetDetails', { 'id': packingSheet.id }) }}">
                                                    <button type="button" class="btn btn-info btn-sm"><span class="glyphicon glyphicon-zoom-in"></span></button></a></td>
                                            <td><a href="{{ path('sheetList', { 'id': packingSheet.id }) }}">
                                                    <button type="button" class="btn btn-success btn-sm"><span class="glyphicon glyphicon-list-alt"></span></button></a></td>
                                            <td><a href="{{ path('sheetEdit', { 'id': packingSheet.id }) }}">
                                            		<button type="button" class="btn btn-warning btn-sm"><span class="glyphicon glyphicon-pencil"></span></button></a></td>
                                            <td><button type="button" class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-remove"></span></button></td>
                                            <td>
                                            	<div class="dropdown">
                                                  	<button class="btn btn-primary btn-sm dropdown-toggle" type="button" data-toggle="dropdown"><span class="glyphicon glyphicon-print"></span>
                                                  	<span class="caret"></span></button>
                                                  	<ul class="dropdown-menu">
                                                    	<li><a href="#">Packing List</a></li>
                                                    	<li><a href="#">Packing Sheet</a></li>
                                                  	</ul>
                                                </div>    
                                            </td>
                                        </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        {% endif %}
                    </div>
                    <div class="tab-pane" id="2">
                        <div class="container-fluid">
                            <div class="panel panel-primary">
                                <div class="panel-heading">
                                    <h3>Search</h3>
                                </div>
                                <div class="panel-body">
                                    <div class="container-fluid">
                                        <form class="form-signin form-horizontal" role="form" action="{{ path('searchSheets') }}" method="post">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <div class="col-lg-12">
                                                        <label>Reference</label>
                                                        <input type="text" name="ref" class="form-control" placeholder="Reference">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-lg-6">
                                                        <label>AWB</label>
                                                        <input type="text" name="awb" class="form-control" placeholder="AWB">
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label>Date</label>
                                                        <input type="text" name="date" class="form-control" placeholder="Date : YYY-MM-DD" id="datepicker">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label for="input">Inputation</label>
                                                    <select class="form-control" name="input" id="input">
                                                        <option label=""></option>
                                                        {% for input in inputs %}
                                                            <option value="{{ input.id }}">{{ input.label }}</option>
                                                        {% endfor%}
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <div class="col-lg-6">
                                                        <label>Part Number</label>
                                                        <input type="text" name="pn" class="form-control" placeholder="Part Number">
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <label>Serial Number</label>
                                                        <input type="text" name="sn" class="form-control" placeholder="Serial Number">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-lg-12">
                                                        <label>Part Description</label>
                                                        <input type="text" name="desc" class="form-control" placeholder="Part Description"></input>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-lg-12">
                                                        <label>Part HSCode</label>
                                                        <input type="text" name="hscode" class="form-control" placeholder="HSCode"></input>
                                                    </div>
                                                </div>
                                            </div>
                                            <hr>
                                            <div class="form-group">
                                                <div class="col-lg-9">
                                                    <label for="code">Company</label>
                                                    <select onchange="getFilteredAddresses();" class="form-control" name="code" id="code">
                                                      <option label=" "></option>
                                                      {% for code in codes %}
                                                          <option value="{{ code.id }}">{{ code.label }}</option>
                                                      {% endfor%}
                                                    </select>
                                                </div>
                                                <div class="col-lg-3">
                                                    <label for="cd">Consigned/delivery</label>
                                                    <select class="form-control" id="cd" name="cd">
                                                        <option label=""></option>
                                                        <option value="1">Consigned</option>
                                                        <option value="2">Delivery</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="address">Address</label>
                                                <select onchange="getFilteredContacts();" class="form-control" name="address" id="address">
                                                    <option label=""></option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label for="contact">Contact</label>
                                                <select class="form-control" name="contact" id="contact">
                                                    <option label=""></option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label class="checkbox-inline"><input type="checkbox" value="1" name="signed">Signed</label>
                                                <label class="checkbox-inline"><input type="checkbox" value="1" name="printed">Printed</label> 
                                                <div class="col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4">
                                                    <button type="submit" class="btn btn-default btn-primary"><span class="glyphicon glyphicon-search"></span> Search </button>
                                                </div>
                                            </div>
                                        </form> 
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
